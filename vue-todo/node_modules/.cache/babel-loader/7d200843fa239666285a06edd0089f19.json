{"ast":null,"code":"import getDate from '../../components/common/getDate';\nconst storage = {\n  fetch() {\n    let arr = [];\n    let sortArr = [];\n\n    if (localStorage.length > 0) {\n      for (let i = 0; i < localStorage.length; i++) {\n        if (localStorage.key(i) != \"loglevel:webpack-dev-server\" && localStorage.key(i) != '') {\n          arr.push(JSON.parse(localStorage.getItem(localStorage.key(i))));\n        }\n      }\n\n      sortArr = arr.sort((a, b) => a.time - b.time);\n    }\n\n    return sortArr;\n  }\n\n};\nconst state = {\n  todoItems: storage.fetch(),\n  allchecked: false,\n  selected: 'date-asc'\n};\nconst getters = {\n  storageTodoItems(state) {\n    return state.todoItems;\n  },\n\n  itemCount(state) {\n    let successCount = state.todoItems.filter(item => item.completed === true).length;\n    let totalCount = state.todoItems.length;\n    return {\n      totalCount,\n      successCount\n    };\n  },\n\n  getchecked(state) {\n    const checked = state.todoItems.filter(item => item.completed === true);\n    const allChecked = checked.length == state.todoItems.length;\n    state.allchecked = state.todoItems.length === 0 ? false : allChecked;\n    return state.allchecked;\n  },\n\n  getSelected(state) {\n    return state.selected;\n  }\n\n};\nconst mutations = {\n  addOneItem(state, todoItem) {\n    const obj = {\n      completed: false,\n      item: todoItem,\n      time: getDate().time,\n      date: `${getDate().month}.${getDate().date} ${getDate().day}`\n    };\n    localStorage.setItem(todoItem, JSON.stringify(obj));\n    state.todoItems.push(obj);\n  },\n\n  removeOneItem(state, payload) {\n    localStorage.removeItem(payload.todoItem.item);\n    state.todoItems.splice(payload.index, 1);\n  },\n\n  toggleOnItem(state, payload) {\n    const {\n      todoItem,\n      index\n    } = payload;\n    state.todoItems[index].completed = !state.todoItems[index].completed;\n    localStorage.removeItem(todoItem.item);\n    localStorage.setItem(todoItem.item, JSON.stringify(todoItem));\n  },\n\n  clearAllItems(state) {\n    localStorage.clear();\n    state.todoItems = [];\n  },\n\n  checkAllItem(state) {\n    if (state.todoItems.length > 0) {\n      state.allchecked = !state.allchecked;\n      localStorage.clear();\n\n      for (let i = 0; i < state.todoItems.length; i++) {\n        state.todoItems[i].completed = state.allchecked;\n        localStorage.setItem(state.todoItems[i].item, JSON.stringify(state.todoItems[i]));\n      }\n    } else {\n      console.log('클릭안됌');\n    }\n  },\n\n  sortTodo(state, payload) {\n    state.selected = payload.selected;\n\n    if (payload.selected === \"date-desc\") {\n      state.todoItems.sort(function (a, b) {\n        return b.time - a.time;\n      });\n    } else if (payload.selected === \"date-asc\") {\n      state.todoItems.sort(function (a, b) {\n        return a.time - b.time;\n      });\n    }\n  }\n\n};\nexport default {\n  state,\n  getters,\n  mutations\n};","map":{"version":3,"names":["getDate","storage","fetch","arr","sortArr","localStorage","length","i","key","push","JSON","parse","getItem","sort","a","b","time","state","todoItems","allchecked","selected","getters","storageTodoItems","itemCount","successCount","filter","item","completed","totalCount","getchecked","checked","allChecked","getSelected","mutations","addOneItem","todoItem","obj","date","month","day","setItem","stringify","removeOneItem","payload","removeItem","splice","index","toggleOnItem","clearAllItems","clear","checkAllItem","console","log","sortTodo"],"sources":["/Users/isoyeon/Documents/Github/vue-todolist/vue-todo/src/store/modules/todoApp.js"],"sourcesContent":["import getDate from '../../components/common/getDate';\n\nconst storage = {\n    fetch() {\n        let arr = [];\n        let sortArr = [];\n\n        if (localStorage.length > 0) {\n            for (let i = 0; i < localStorage.length; i++) {\n                if (localStorage.key(i) != \"loglevel:webpack-dev-server\" && localStorage.key(i) != '') {\n                    arr.push(JSON.parse(localStorage.getItem(localStorage.key(i))));\n                }\n            }\n\n            sortArr = arr.sort((a, b) => a.time - b.time);\n        }\n\n        return sortArr;\n    }\n};\n\nconst state = {\n    todoItems: storage.fetch(),\n    allchecked: false,\n    selected: 'date-asc',\n}\n\nconst getters = {\n    storageTodoItems(state) {\n        return state.todoItems;\n    },\n    itemCount(state) {\n        let successCount = state.todoItems.filter(item => item.completed === true).length;\n        let totalCount = state.todoItems.length;\n\n        return { totalCount, successCount }\n    },\n    getchecked(state) {\n        const checked = state.todoItems.filter(item => item.completed === true);\n        const allChecked = checked.length == state.todoItems.length;\n\n        state.allchecked = state.todoItems.length === 0 ? false : allChecked;\n    \n        return state.allchecked;\n    },\n    getSelected(state) {\n        return state.selected;\n    }\n}\n\nconst mutations = {\n    addOneItem(state, todoItem) {\n        const obj = {\n            completed: false,\n            item: todoItem,\n            time: getDate().time,\n            date: `${getDate().month}.${getDate().date} ${getDate().day}`\n        };\n\n        localStorage.setItem(todoItem, JSON.stringify(obj));\n        state.todoItems.push(obj);\n    },\n    removeOneItem(state, payload) {\n        localStorage.removeItem(payload.todoItem.item);\n        state.todoItems.splice(payload.index, 1);\n    },\n    toggleOnItem(state, payload) {\n        const { todoItem, index } = payload;\n\n        state.todoItems[index].completed = !state.todoItems[index].completed\n        localStorage.removeItem(todoItem.item);\n        localStorage.setItem(todoItem.item, JSON.stringify(todoItem));\n    },\n    clearAllItems(state) {\n        localStorage.clear();\n        state.todoItems = [];\n    },\n    checkAllItem(state) {\n        if (state.todoItems.length > 0) {\n            state.allchecked = !state.allchecked;\n\n            localStorage.clear();\n\n            for (let i = 0; i < state.todoItems.length; i++) {\n                state.todoItems[i].completed = state.allchecked;\n                localStorage.setItem(state.todoItems[i].item, JSON.stringify(state.todoItems[i]));\n            }\n        } else {\n            console.log('클릭안됌')\n        }\n    },\n    sortTodo(state, payload) {\n        state.selected = payload.selected;\n\n        if (payload.selected === \"date-desc\") {\n            state.todoItems.sort(function (a, b) {\n                return b.time - a.time;\n            });\n        } else if (payload.selected === \"date-asc\") {\n            state.todoItems.sort(function (a, b) {\n                return a.time - b.time;\n            });\n        }\n\n    }\n}\n\nexport default {\n    state,\n    getters,\n    mutations\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}