{"ast":null,"code":"import getDate from '../../components/common/getDate';\nconst storage = {\n  fetch() {\n    const arr = [];\n    const sortArr = [];\n\n    if (localStorage.length > 0) {\n      for (let i = 0; i < localStorage.length; i++) {\n        if (localStorage.key(i) != \"loglevel:webpack-dev-server\" && localStorage.key(i) != '') {\n          arr.push(JSON.parse(localStorage.getItem(localStorage.key(i))));\n        }\n      }\n\n      sortArr = arr.sort();\n    }\n\n    return arr;\n  }\n\n};\nconst state = {\n  todoItems: storage.fetch()\n};\nconst getters = {\n  storageTodoItems(state) {\n    return state.todoItems;\n  },\n\n  itemCount(state) {\n    let successCount = state.todoItems.filter(item => item.completed === true).length;\n    let totalCount = state.todoItems.length;\n    return {\n      totalCount,\n      successCount\n    };\n  }\n\n};\nconst mutations = {\n  addOneItem(state, todoItem) {\n    const obj = {\n      completed: false,\n      item: todoItem,\n      time: getDate().time,\n      date: `${getDate().month}.${getDate().date} ${getDate().day}`\n    };\n    localStorage.setItem(todoItem, JSON.stringify(obj));\n    state.todoItems.push(obj);\n  },\n\n  removeOneItem(state, payload) {\n    localStorage.removeItem(payload.todoItem.item);\n    state.todoItems.splice(payload.index, 1);\n  },\n\n  toggleOnItem(state, payload) {\n    const {\n      todoItem,\n      index\n    } = payload;\n    state.todoItems[index].completed = !state.todoItems[index].completed;\n    localStorage.removeItem(todoItem.item);\n    localStorage.setItem(todoItem.item, JSON.stringify(todoItem));\n  },\n\n  clearAllItems(state) {\n    localStorage.clear();\n    state.todoItems = [];\n  }\n\n};\nexport default {\n  state,\n  getters,\n  mutations\n};","map":{"version":3,"names":["getDate","storage","fetch","arr","sortArr","localStorage","length","i","key","push","JSON","parse","getItem","sort","state","todoItems","getters","storageTodoItems","itemCount","successCount","filter","item","completed","totalCount","mutations","addOneItem","todoItem","obj","time","date","month","day","setItem","stringify","removeOneItem","payload","removeItem","splice","index","toggleOnItem","clearAllItems","clear"],"sources":["/Users/isoyeon/Documents/Github/vue-todolist/vue-todo/src/store/modules/todoApp.js"],"sourcesContent":["import getDate from '../../components/common/getDate';\n\nconst storage = {\n    fetch() {\n        const arr = [];\n        const sortArr = [];\n\n        if (localStorage.length > 0) {\n            for (let i = 0; i < localStorage.length; i++) {\n                if (localStorage.key(i) != \"loglevel:webpack-dev-server\" && localStorage.key(i) != '') {\n                    arr.push(JSON.parse(localStorage.getItem(localStorage.key(i))));\n                }\n            }\n\n            sortArr = arr.sort()\n        }\n\n        return arr;\n    }\n};\n\nconst state = {\n    todoItems: storage.fetch(),\n}\n\nconst getters = {\n    storageTodoItems(state) {\n        return state.todoItems;\n    },\n    itemCount(state) {\n        let successCount = state.todoItems.filter(item => item.completed === true).length;\n        let totalCount = state.todoItems.length;\n\n        return { totalCount, successCount }\n    }\n}\n\nconst mutations = {\n    addOneItem(state, todoItem) {\n        const obj = {\n            completed: false,\n            item: todoItem,\n            time: getDate().time,\n            date: `${getDate().month}.${getDate().date} ${getDate().day}`\n        };\n\n        localStorage.setItem(todoItem, JSON.stringify(obj));\n        state.todoItems.push(obj);\n    },\n    removeOneItem(state, payload) {\n        localStorage.removeItem(payload.todoItem.item);\n        state.todoItems.splice(payload.index, 1);\n    },\n    toggleOnItem(state, payload) {\n        const { todoItem, index } = payload;\n\n        state.todoItems[index].completed = !state.todoItems[index].completed\n        localStorage.removeItem(todoItem.item);\n        localStorage.setItem(todoItem.item, JSON.stringify(todoItem));\n    },\n    clearAllItems(state) {\n        localStorage.clear();\n        state.todoItems = [];\n    }\n}\n\nexport default {\n    state,\n    getters,\n    mutations\n}"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,iCAApB;AAEA,MAAMC,OAAO,GAAG;EACZC,KAAK,GAAG;IACJ,MAAMC,GAAG,GAAG,EAAZ;IACA,MAAMC,OAAO,GAAG,EAAhB;;IAEA,IAAIC,YAAY,CAACC,MAAb,GAAsB,CAA1B,EAA6B;MACzB,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,YAAY,CAACC,MAAjC,EAAyCC,CAAC,EAA1C,EAA8C;QAC1C,IAAIF,YAAY,CAACG,GAAb,CAAiBD,CAAjB,KAAuB,6BAAvB,IAAwDF,YAAY,CAACG,GAAb,CAAiBD,CAAjB,KAAuB,EAAnF,EAAuF;UACnFJ,GAAG,CAACM,IAAJ,CAASC,IAAI,CAACC,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqBP,YAAY,CAACG,GAAb,CAAiBD,CAAjB,CAArB,CAAX,CAAT;QACH;MACJ;;MAEDH,OAAO,GAAGD,GAAG,CAACU,IAAJ,EAAV;IACH;;IAED,OAAOV,GAAP;EACH;;AAhBW,CAAhB;AAmBA,MAAMW,KAAK,GAAG;EACVC,SAAS,EAAEd,OAAO,CAACC,KAAR;AADD,CAAd;AAIA,MAAMc,OAAO,GAAG;EACZC,gBAAgB,CAACH,KAAD,EAAQ;IACpB,OAAOA,KAAK,CAACC,SAAb;EACH,CAHW;;EAIZG,SAAS,CAACJ,KAAD,EAAQ;IACb,IAAIK,YAAY,GAAGL,KAAK,CAACC,SAAN,CAAgBK,MAAhB,CAAuBC,IAAI,IAAIA,IAAI,CAACC,SAAL,KAAmB,IAAlD,EAAwDhB,MAA3E;IACA,IAAIiB,UAAU,GAAGT,KAAK,CAACC,SAAN,CAAgBT,MAAjC;IAEA,OAAO;MAAEiB,UAAF;MAAcJ;IAAd,CAAP;EACH;;AATW,CAAhB;AAYA,MAAMK,SAAS,GAAG;EACdC,UAAU,CAACX,KAAD,EAAQY,QAAR,EAAkB;IACxB,MAAMC,GAAG,GAAG;MACRL,SAAS,EAAE,KADH;MAERD,IAAI,EAAEK,QAFE;MAGRE,IAAI,EAAE5B,OAAO,GAAG4B,IAHR;MAIRC,IAAI,EAAG,GAAE7B,OAAO,GAAG8B,KAAM,IAAG9B,OAAO,GAAG6B,IAAK,IAAG7B,OAAO,GAAG+B,GAAI;IAJpD,CAAZ;IAOA1B,YAAY,CAAC2B,OAAb,CAAqBN,QAArB,EAA+BhB,IAAI,CAACuB,SAAL,CAAeN,GAAf,CAA/B;IACAb,KAAK,CAACC,SAAN,CAAgBN,IAAhB,CAAqBkB,GAArB;EACH,CAXa;;EAYdO,aAAa,CAACpB,KAAD,EAAQqB,OAAR,EAAiB;IAC1B9B,YAAY,CAAC+B,UAAb,CAAwBD,OAAO,CAACT,QAAR,CAAiBL,IAAzC;IACAP,KAAK,CAACC,SAAN,CAAgBsB,MAAhB,CAAuBF,OAAO,CAACG,KAA/B,EAAsC,CAAtC;EACH,CAfa;;EAgBdC,YAAY,CAACzB,KAAD,EAAQqB,OAAR,EAAiB;IACzB,MAAM;MAAET,QAAF;MAAYY;IAAZ,IAAsBH,OAA5B;IAEArB,KAAK,CAACC,SAAN,CAAgBuB,KAAhB,EAAuBhB,SAAvB,GAAmC,CAACR,KAAK,CAACC,SAAN,CAAgBuB,KAAhB,EAAuBhB,SAA3D;IACAjB,YAAY,CAAC+B,UAAb,CAAwBV,QAAQ,CAACL,IAAjC;IACAhB,YAAY,CAAC2B,OAAb,CAAqBN,QAAQ,CAACL,IAA9B,EAAoCX,IAAI,CAACuB,SAAL,CAAeP,QAAf,CAApC;EACH,CAtBa;;EAuBdc,aAAa,CAAC1B,KAAD,EAAQ;IACjBT,YAAY,CAACoC,KAAb;IACA3B,KAAK,CAACC,SAAN,GAAkB,EAAlB;EACH;;AA1Ba,CAAlB;AA6BA,eAAe;EACXD,KADW;EAEXE,OAFW;EAGXQ;AAHW,CAAf"},"metadata":{},"sourceType":"module"}