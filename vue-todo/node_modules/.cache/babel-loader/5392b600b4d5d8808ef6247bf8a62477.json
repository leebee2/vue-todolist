{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nimport * as mutations from './mutations';\nVue.use(Vuex); //vue의 플러그인\n\nconst storage = () => {\n  const arr = [];\n\n  if (localStorage.length > 0) {\n    for (let i = 0; i < localStorage.length; i++) {\n      if (localStorage.key(i) != \"loglevel:webpack-dev-server\" && localStorage.key(i) != '') {\n        arr.push(JSON.parse(localStorage.getItem(localStorage.key(i))));\n      }\n    }\n  }\n\n  return arr;\n};\n\nexport const store = new Vuex.Store({\n  state: {\n    todoItems: storage()\n  },\n  mutations: {\n    addOneItem(state, todoItem) {\n      const obj = {\n        completed: false,\n        item: todoItem\n      };\n      localStorage.setItem(todoItem, JSON.stringify(obj));\n      state.todoItems.push(obj);\n    },\n\n    removeOneItem(state, payload) {\n      localStorage.removeItem(payload.todoItem.item);\n      state.todoItems.splice(payload.index, 1);\n    },\n\n    toggleOnItem(state, payload) {\n      const {\n        todoItem,\n        index\n      } = payload;\n      state.todoItems[index].completed = !state.todoItems[index].completed;\n      localStorage.removeItem(todoItem.item);\n      localStorage.setItem(todoItem.item, JSON.stringify(todoItem));\n    },\n\n    clearAllItems(state) {\n      localStorage.clear();\n      state.todoItems = [];\n    }\n\n  }\n});","map":{"version":3,"names":["Vue","Vuex","mutations","use","storage","arr","localStorage","length","i","key","push","JSON","parse","getItem","store","Store","state","todoItems","addOneItem","todoItem","obj","completed","item","setItem","stringify","removeOneItem","payload","removeItem","splice","index","toggleOnItem","clearAllItems","clear"],"sources":["/Users/isoyeon/Documents/Github/vue-todolist/vue-todo/src/store/store.js"],"sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport * as mutations from './mutations';\n\nVue.use(Vuex); //vue의 플러그인\n\nconst storage = () => {\n    const arr = [];\n\n    if (localStorage.length > 0) {\n        for (let i = 0; i < localStorage.length; i++) {\n            if (localStorage.key(i) != \"loglevel:webpack-dev-server\" && localStorage.key(i) != '') {\n                arr.push(JSON.parse(localStorage.getItem(localStorage.key(i))));\n            }\n        }\n    }\n\n    return arr;\n};\n\nexport const store = new Vuex.Store({\n    state: {\n        todoItems: storage(),\n    },\n    mutations: {\n        addOneItem(state, todoItem) {\n            const obj = { completed: false, item: todoItem };\n\n            localStorage.setItem(todoItem, JSON.stringify(obj));\n            state.todoItems.push(obj);\n        },\n        removeOneItem(state, payload) {\n            localStorage.removeItem(payload.todoItem.item);\n            state.todoItems.splice(payload.index, 1);\n        },\n        toggleOnItem(state, payload) {\n            const { todoItem, index } = payload;\n\n            state.todoItems[index].completed = !state.todoItems[index].completed\n            localStorage.removeItem(todoItem.item);\n            localStorage.setItem(todoItem.item, JSON.stringify(todoItem));\n        },\n        clearAllItems(state) {\n            localStorage.clear();\n            state.todoItems = [];\n        }\n    }\n});"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAO,KAAKC,SAAZ,MAA2B,aAA3B;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR,E,CAAe;;AAEf,MAAMG,OAAO,GAAG,MAAM;EAClB,MAAMC,GAAG,GAAG,EAAZ;;EAEA,IAAIC,YAAY,CAACC,MAAb,GAAsB,CAA1B,EAA6B;IACzB,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,YAAY,CAACC,MAAjC,EAAyCC,CAAC,EAA1C,EAA8C;MAC1C,IAAIF,YAAY,CAACG,GAAb,CAAiBD,CAAjB,KAAuB,6BAAvB,IAAwDF,YAAY,CAACG,GAAb,CAAiBD,CAAjB,KAAuB,EAAnF,EAAuF;QACnFH,GAAG,CAACK,IAAJ,CAASC,IAAI,CAACC,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqBP,YAAY,CAACG,GAAb,CAAiBD,CAAjB,CAArB,CAAX,CAAT;MACH;IACJ;EACJ;;EAED,OAAOH,GAAP;AACH,CAZD;;AAcA,OAAO,MAAMS,KAAK,GAAG,IAAIb,IAAI,CAACc,KAAT,CAAe;EAChCC,KAAK,EAAE;IACHC,SAAS,EAAEb,OAAO;EADf,CADyB;EAIhCF,SAAS,EAAE;IACPgB,UAAU,CAACF,KAAD,EAAQG,QAAR,EAAkB;MACxB,MAAMC,GAAG,GAAG;QAAEC,SAAS,EAAE,KAAb;QAAoBC,IAAI,EAAEH;MAA1B,CAAZ;MAEAb,YAAY,CAACiB,OAAb,CAAqBJ,QAArB,EAA+BR,IAAI,CAACa,SAAL,CAAeJ,GAAf,CAA/B;MACAJ,KAAK,CAACC,SAAN,CAAgBP,IAAhB,CAAqBU,GAArB;IACH,CANM;;IAOPK,aAAa,CAACT,KAAD,EAAQU,OAAR,EAAiB;MAC1BpB,YAAY,CAACqB,UAAb,CAAwBD,OAAO,CAACP,QAAR,CAAiBG,IAAzC;MACAN,KAAK,CAACC,SAAN,CAAgBW,MAAhB,CAAuBF,OAAO,CAACG,KAA/B,EAAsC,CAAtC;IACH,CAVM;;IAWPC,YAAY,CAACd,KAAD,EAAQU,OAAR,EAAiB;MACzB,MAAM;QAAEP,QAAF;QAAYU;MAAZ,IAAsBH,OAA5B;MAEAV,KAAK,CAACC,SAAN,CAAgBY,KAAhB,EAAuBR,SAAvB,GAAmC,CAACL,KAAK,CAACC,SAAN,CAAgBY,KAAhB,EAAuBR,SAA3D;MACAf,YAAY,CAACqB,UAAb,CAAwBR,QAAQ,CAACG,IAAjC;MACAhB,YAAY,CAACiB,OAAb,CAAqBJ,QAAQ,CAACG,IAA9B,EAAoCX,IAAI,CAACa,SAAL,CAAeL,QAAf,CAApC;IACH,CAjBM;;IAkBPY,aAAa,CAACf,KAAD,EAAQ;MACjBV,YAAY,CAAC0B,KAAb;MACAhB,KAAK,CAACC,SAAN,GAAkB,EAAlB;IACH;;EArBM;AAJqB,CAAf,CAAd"},"metadata":{},"sourceType":"module"}